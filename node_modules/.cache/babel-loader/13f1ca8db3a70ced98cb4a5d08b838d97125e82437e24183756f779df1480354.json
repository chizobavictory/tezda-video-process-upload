{"ast":null,"code":"var _jsxFileName = \"/Users/echelon/Documents/GitHub/tezda/tezda-video-streaming/src/components/Transactions.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport FileBase64 from 'react-file-base64';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Transactions = () => {\n  _s();\n  const [userId, setUserId] = useState('');\n  const [description, setDescription] = useState('');\n  const [videoData, setVideoData] = useState(null);\n  const [uploadResponse, setUploadResponse] = useState(null);\n  const [detailsResponse, setDetailsResponse] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState(null);\n  const [requestBody, setRequestBody] = useState({\n    location: '',\n    ipAddress: '',\n    description: ''\n  });\n  const [phone, setPhone] = useState('');\n  const [responseText, setResponseText] = useState('');\n  const [token, setToken] = useState('');\n  const [toggle, setToggle] = useState(false);\n  const handlePhoneChange = event => {\n    setPhone(event.target.value);\n  };\n  const handleCheckPhone = async () => {\n    if (!phone) {\n      toast.error('Please enter a phone number');\n      return;\n    }\n    setLoading(true);\n    try {\n      const apiUrl = 'https://api.tezda.tech/auth/t/checkPhone';\n      const apiKey = 'SytJWAJ6YB7BoiXOwu2Zp5rMLaIGD1at1EqNvnMT';\n      const response = await axios.post(apiUrl, {\n        phone\n      }, {\n        headers: {\n          'x-api-key': apiKey\n        }\n      });\n      const {\n        data\n      } = response;\n      setResponseText(JSON.stringify(data, null, 2));\n      setToken(data.token);\n      setUserId(data.user_id); // Assuming the response contains user_id\n\n      toast.success('Phone number checked successfully');\n    } catch (error) {\n      console.error('Error checking phone number:', error);\n      toast.error('Failed to check phone number');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const videoRef = useRef(null);\n  const handleUserIdChange = event => {\n    setUserId(event.target.value);\n  };\n  const handleDescriptionChange = event => {\n    setDescription(event.target.value);\n    setRequestBody({\n      ...requestBody,\n      description: event.target.value\n    });\n  };\n  const getItemIdFromPresignedUrl = presignedUrl => {\n    try {\n      const url = new URL(presignedUrl);\n      const path = url.pathname;\n      const pathParts = path.split('/');\n      const fileName = pathParts[pathParts.length - 1];\n      // Remove the file extension, assuming it's always \".mp4\"\n      const itemId = fileName.replace(/\\.mp4$/, '');\n      return itemId;\n    } catch (error) {\n      console.error('Error extracting item ID from presigned URL:', error);\n      return null;\n    }\n  };\n  const handleVideoUpload = file => {\n    setVideoData(file.file);\n  };\n  const handleUpload = async () => {\n    if (!userId || !videoData) {\n      toast.error('Please enter user ID and select a video');\n      return;\n    }\n    const presignedUrlEndpoint = `https://kl8no40qhb.execute-api.eu-west-2.amazonaws.com/test/user/createUserUploadPresignedUrl?user_id=${userId}`;\n    try {\n      setLoading(true);\n\n      // Step 1: Request a presigned URL\n      const presignedUrlResponse = await axios.post(presignedUrlEndpoint, {\n        description\n      }, {\n        headers: {\n          'x-api-key': 'fwKwNZDxCRJpMWkLXetP1UQHnuUNqj65bCVXe159'\n        }\n      });\n      console.log('Response from presigned URL request:', presignedUrlResponse);\n      const user_id = presignedUrlResponse.data.user_id;\n      const presignedUrl = presignedUrlResponse.data.data;\n\n      // Step 2: Upload the video to S3 using the presigned URL\n      console.log('Uploading video data:', videoData);\n      await axios.put(presignedUrl, videoData, {\n        headers: {\n          'Content-Type': 'video/mp4',\n          'Access-Control-Allow-Origin': '*'\n        }\n      });\n      const item_id = getItemIdFromPresignedUrl(presignedUrl);\n\n      // Step 3: After a successful upload, you can now trigger other actions or display a success message.\n      setUploadResponse({\n        message: 'Video uploaded successfully',\n        data: {\n          presignedUrl,\n          item_id,\n          user_id\n        }\n      });\n      toast.success('Video uploaded successfully!');\n    } catch (error) {\n      console.error('Error during upload:', error);\n      if (error.response) {\n        toast.error(`Error during upload: ${error.response.data.message}`);\n      } else {\n        toast.error('Unexpected error uploading video. Please try again later.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleGetDetails = async () => {\n    if (!uploadResponse) {\n      toast.error('Please upload a video first');\n      return;\n    }\n    try {\n      setLoadingMessage('Loading video details...');\n      setLoading(true);\n      toast.info('Loading video details...');\n      const detailsEndpoint = `https://api.tezda.tech/auth/t/findUserShortVideo`;\n      const detailsResponse = await axios.post(detailsEndpoint, {\n        item_id: uploadResponse.data.item_id,\n        user_id: uploadResponse.data.user_id\n      }, {\n        headers: {\n          'x-api-key': 'IRlphpPcbk3D81VSuMOcg5851XlQyLZ98dDaY3oB',\n          token: token\n        }\n      });\n      console.log('Response from get details endpoint:', detailsResponse);\n      setDetailsResponse(detailsResponse.data);\n      if (videoRef.current) {\n        const videoUrl = detailsResponse.data.data.videoS3Url;\n        videoRef.current.src = videoUrl;\n        videoRef.current.load();\n        videoRef.current.play();\n      }\n      toast.success('Video details loaded successfully!');\n    } catch (error) {\n      console.error('Error getting video details:', error);\n      setLoadingMessage('Error getting video details. Please try again later.');\n    } finally {\n      setLoading(false);\n      setLoadingMessage(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col md:pt-15 pt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-neutral-900 flex flex-col gap-4 md:flex\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-[degularbold] md:text-2xl text-xl\",\n            children: \"Upload Video Logic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-[degularmedium] text-gray-600\",\n            children: [\"To uplod a video and stream you first login with your phone number. The token and cookies for that user is stored and used to upload the vide and view the video respectively. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 53\n            }, this), \" Enter the video details - visibilty and description. The other parameters for a video are added in the background. \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 40\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex gap-2 justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-1 w-25\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"phone\",\n                className: \"font-semibold text-lg\",\n                children: \"Enter Phone Number:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"phone\",\n                type: \"text\",\n                value: phone,\n                onChange: handlePhoneChange,\n                placeholder: \"Enter phone number\",\n                className: \"bg-gray-100 text-gray-900 p-2 rounded-md mt-2 w-full focus:outline-none focus:ring focus:border-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCheckPhone,\n                className: \"bg-blue-500 text-white p-2 rounded-md mt-2 hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-500 w-full\",\n                disabled: loading,\n                children: loading ? 'Checking...' : 'Check Phone'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-4 w-25\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold mb-2\",\n                children: \"Response:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                className: \"bg-gray-100 p-4 text-sm rounded-md w-[350px] overflow-auto\",\n                children: responseText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-1 w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"video-details\",\n                className: \"font-semibold text-lg\",\n                children: \"Video Details:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"video-details\",\n                type: \"text\",\n                value: description // Assuming this should be replaced with appropriate state variable\n                ,\n                onChange: handleDescriptionChange,\n                placeholder: \"Enter description\",\n                className: \"bg-gray-100 text-gray-900 p-2 rounded-md mt-2 w-full focus:outline-none focus:ring focus:border-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"visibility\",\n                className: \"bg-gray-100 text-gray-900 p-2 rounded-md mt-2 w-full focus:outline-none focus:ring focus:border-blue-500\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"public\",\n                  children: \"Public\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"private\",\n                  children: \"Private\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 249,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"personal\",\n                  children: \"Personal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 250,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  className: \"w-4 h-4 fill-current\",\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  viewBox: \"0 0 20 20\",\n                  fill: \"currentColor\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    fillRule: \"evenodd\",\n                    d: \"M7.293 11.293a1 1 0 0 1 1.414 0L10 12.586l1.293-1.293a1 1 0 1 1 1.414 1.414l-2 2a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 0-1.414 1 1 0 0 1 0-1.414z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 254,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 243,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 229,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col gap-2 md:w-1/2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"font-[degularsemibold] text-xl\",\n            children: \"Select Video\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-500\",\n            children: /*#__PURE__*/_jsxDEV(FileBase64, {\n              multiple: false,\n              onDone: handleVideoUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpload,\n          className: \"w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-500\",\n          children: \"Upload Video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleGetDetails,\n          className: \"w-full bg-green-500 text-white p-2 rounded-md mt-4 hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-500\",\n          children: \"Get Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full border-t mt-4 border-gray-300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 flex justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-lg font-bold mb-2\",\n        children: loadingMessage || 'Loading...'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 9\n    }, this), uploadResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 \",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-2\",\n        children: \"Upload Response:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"bg-gray-100 overflow-auto p-4 text-sm rounded-md\",\n        children: JSON.stringify(uploadResponse, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 9\n    }, this), detailsResponse && detailsResponse.data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4 \",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-2\",\n        children: \"Full Video Details:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"bg-gray-100 overflow-auto p-4 text-sm rounded-md\",\n        children: JSON.stringify(detailsResponse, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-lg font-bold mb-2\",\n        children: \"Original Uploaded Video:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        controls: true,\n        width: \"100%\",\n        height: \"auto\",\n        children: \"Your browser does not support the video tag.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n};\n_s(Transactions, \"966j1IMeSaI6YvpqGZDROR9xW5s=\");\n_c = Transactions;\nexport default Transactions;\nvar _c;\n$RefreshReg$(_c, \"Transactions\");","map":{"version":3,"names":["React","useState","useRef","axios","toast","ToastContainer","FileBase64","jsxDEV","_jsxDEV","Transactions","_s","userId","setUserId","description","setDescription","videoData","setVideoData","uploadResponse","setUploadResponse","detailsResponse","setDetailsResponse","loading","setLoading","loadingMessage","setLoadingMessage","requestBody","setRequestBody","location","ipAddress","phone","setPhone","responseText","setResponseText","token","setToken","toggle","setToggle","handlePhoneChange","event","target","value","handleCheckPhone","error","apiUrl","apiKey","response","post","headers","data","JSON","stringify","user_id","success","console","videoRef","handleUserIdChange","handleDescriptionChange","getItemIdFromPresignedUrl","presignedUrl","url","URL","path","pathname","pathParts","split","fileName","length","itemId","replace","handleVideoUpload","file","handleUpload","presignedUrlEndpoint","presignedUrlResponse","log","put","item_id","message","handleGetDetails","info","detailsEndpoint","current","videoUrl","videoS3Url","src","load","play","className","children","_jsxFileName","lineNumber","columnNumber","htmlFor","id","type","onChange","placeholder","onClick","disabled","xmlns","viewBox","fill","fillRule","d","multiple","onDone","ref","controls","width","height","_c","$RefreshReg$"],"sources":["/Users/echelon/Documents/GitHub/tezda/tezda-video-streaming/src/components/Transactions.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport axios from 'axios';\nimport { toast, ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport FileBase64 from 'react-file-base64';\n\nconst Transactions = () => {\n  const [userId, setUserId] = useState<string>('');\n  const [description, setDescription] = useState<string>('');\n  const [videoData, setVideoData] = useState<File | null>(null);\n  const [uploadResponse, setUploadResponse] = useState<any | null>(null);\n  const [detailsResponse, setDetailsResponse] = useState<any | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [loadingMessage, setLoadingMessage] = useState<string | null>(null);\n  const [requestBody, setRequestBody] = useState({ location: '', ipAddress: '', description: '' });\n  const [phone, setPhone] = useState<string>('');\n  const [responseText, setResponseText] = useState<string>('');\n  const [token, setToken] = useState<string>('');\n  const [toggle, setToggle] = useState(false)\n\n  const handlePhoneChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setPhone(event.target.value);\n  };\n\n  const handleCheckPhone = async () => {\n    if (!phone) {\n      toast.error('Please enter a phone number');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      const apiUrl = 'https://api.tezda.tech/auth/t/checkPhone';\n      const apiKey = 'SytJWAJ6YB7BoiXOwu2Zp5rMLaIGD1at1EqNvnMT';\n\n      const response = await axios.post(\n        apiUrl,\n        { phone },\n        {\n          headers: {\n            'x-api-key': apiKey,\n          },\n        }\n      );\n\n      const { data } = response;\n      setResponseText(JSON.stringify(data, null, 2));\n      setToken(data.token);\n      setUserId(data.user_id); // Assuming the response contains user_id\n\n      toast.success('Phone number checked successfully');\n    } catch (error) {\n      console.error('Error checking phone number:', error);\n      toast.error('Failed to check phone number');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const videoRef = useRef<HTMLVideoElement>(null);\n\n  const handleUserIdChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setUserId(event.target.value);\n  };\n\n  const handleDescriptionChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setDescription(event.target.value);\n    setRequestBody({ ...requestBody, description: event.target.value });\n  };\n\n  const getItemIdFromPresignedUrl = (presignedUrl: string) => {\n    try {\n      const url = new URL(presignedUrl);\n      const path = url.pathname;\n      const pathParts = path.split('/');\n      const fileName = pathParts[pathParts.length - 1];\n      // Remove the file extension, assuming it's always \".mp4\"\n      const itemId = fileName.replace(/\\.mp4$/, '');\n      return itemId;\n    } catch (error) {\n      console.error('Error extracting item ID from presigned URL:', error);\n      return null;\n    }\n  };\n\n  const handleVideoUpload = (file: { file: File }) => {\n    setVideoData(file.file);\n  };\n\n  const handleUpload = async () => {\n    if (!userId || !videoData) {\n      toast.error('Please enter user ID and select a video');\n      return;\n    }\n\n    const presignedUrlEndpoint = `https://kl8no40qhb.execute-api.eu-west-2.amazonaws.com/test/user/createUserUploadPresignedUrl?user_id=${userId}`;\n\n    try {\n      setLoading(true);\n\n      // Step 1: Request a presigned URL\n      const presignedUrlResponse = await axios.post(\n        presignedUrlEndpoint,\n        { description },\n        {\n          headers: {\n            'x-api-key': 'fwKwNZDxCRJpMWkLXetP1UQHnuUNqj65bCVXe159',\n          },\n        }\n      );\n      console.log('Response from presigned URL request:', presignedUrlResponse);\n      const user_id = presignedUrlResponse.data.user_id;\n      const presignedUrl = presignedUrlResponse.data.data;\n\n      // Step 2: Upload the video to S3 using the presigned URL\n      console.log('Uploading video data:', videoData);\n      await axios.put(presignedUrl, videoData, {\n        headers: {\n          'Content-Type': 'video/mp4',\n          'Access-Control-Allow-Origin': '*',\n        },\n      });\n\n      const item_id = getItemIdFromPresignedUrl(presignedUrl);\n\n      // Step 3: After a successful upload, you can now trigger other actions or display a success message.\n      setUploadResponse({ message: 'Video uploaded successfully', data: { presignedUrl, item_id, user_id } });\n      toast.success('Video uploaded successfully!');\n    } catch (error: any) {\n      console.error('Error during upload:', error);\n\n      if (error.response) {\n        toast.error(`Error during upload: ${error.response.data.message}`);\n      } else {\n        toast.error('Unexpected error uploading video. Please try again later.');\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleGetDetails = async () => {\n    if (!uploadResponse) {\n      toast.error('Please upload a video first');\n      return;\n    }\n\n    try {\n      setLoadingMessage('Loading video details...');\n      setLoading(true);\n      toast.info('Loading video details...');\n\n      const detailsEndpoint = `https://api.tezda.tech/auth/t/findUserShortVideo`;\n      const detailsResponse = await axios.post(\n        detailsEndpoint,\n        {\n          item_id: uploadResponse.data.item_id,\n          user_id: uploadResponse.data.user_id,\n        },\n        {\n          headers: {\n            'x-api-key': 'IRlphpPcbk3D81VSuMOcg5851XlQyLZ98dDaY3oB',\n            token: token,\n          },\n        }\n      );\n      console.log('Response from get details endpoint:', detailsResponse);\n\n      setDetailsResponse(detailsResponse.data);\n\n      if (videoRef.current) {\n        const videoUrl = detailsResponse.data.data.videoS3Url;\n        videoRef.current.src = videoUrl;\n        videoRef.current.load();\n        videoRef.current.play();\n      }\n\n      toast.success('Video details loaded successfully!');\n    } catch (error) {\n      console.error('Error getting video details:', error);\n      setLoadingMessage('Error getting video details. Please try again later.');\n    } finally {\n      setLoading(false);\n      setLoadingMessage(null);\n    }\n  };\n\n  return (\n    <div className='flex flex-col md:pt-15 pt-5'>\n      <div className='flex flex-col md:flex-row justify-between gap-4'>\n        <div className='text-neutral-900 flex flex-col gap-4 md:flex'>\n          <div>\n            <p className='font-[degularbold] md:text-2xl text-xl'>Upload Video Logic</p>\n            <p className='font-[degularmedium] text-gray-600'>\n              To uplod a video and stream you first login with your phone number. The token and cookies for that user is stored and used to upload the\n              vide and view the video respectively. <br /> Enter the video details - visibilty and description. The other parameters for a video are\n              added in the background. <br />\n            </p>\n          </div>\n          <div className='flex gap-2 justify-between'>\n            <div className='flex flex-col gap-1 w-25'>\n              <div>\n                <label htmlFor='phone' className='font-semibold text-lg'>\n                  Enter Phone Number:\n                </label>\n                <input\n                  id='phone'\n                  type='text'\n                  value={phone}\n                  onChange={handlePhoneChange}\n                  placeholder='Enter phone number'\n                  className='bg-gray-100 text-gray-900 p-2 rounded-md mt-2 w-full focus:outline-none focus:ring focus:border-blue-500'\n                />\n                <button\n                  onClick={handleCheckPhone}\n                  className='bg-blue-500 text-white p-2 rounded-md mt-2 hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-500 w-full'\n                  disabled={loading}\n                >\n                  {loading ? 'Checking...' : 'Check Phone'}\n                </button>\n              </div>\n              <div className='mt-4 w-25'>\n                <h2 className='text-lg font-semibold mb-2'>Response:</h2>\n                <pre className='bg-gray-100 p-4 text-sm rounded-md w-[350px] overflow-auto'>{responseText}</pre>\n              </div>\n              <ToastContainer />\n            </div>\n            <div className='flex flex-col gap-1 w-full'>\n              <div>\n                <label htmlFor='video-details' className='font-semibold text-lg'>\n                  Video Details:\n                </label>\n                <input\n                  id='video-details'\n                  type='text'\n                  value={description} // Assuming this should be replaced with appropriate state variable\n                  onChange={handleDescriptionChange}\n                  placeholder='Enter description'\n                  className='bg-gray-100 text-gray-900 p-2 rounded-md mt-2 w-full focus:outline-none focus:ring focus:border-blue-500'\n                />\n              </div>\n              <div className='relative'>\n                <select\n                  id='visibility'\n                  className='bg-gray-100 text-gray-900 p-2 rounded-md mt-2 w-full focus:outline-none focus:ring focus:border-blue-500'\n                >\n                  <option value='public'>Public</option>\n                  <option value='private'>Private</option>\n                  <option value='personal'>Personal</option>\n                </select>\n                <div className='pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700'>\n                  <svg className='w-4 h-4 fill-current' xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='currentColor'>\n                    <path\n                      fillRule='evenodd'\n                      d='M7.293 11.293a1 1 0 0 1 1.414 0L10 12.586l1.293-1.293a1 1 0 1 1 1.414 1.414l-2 2a1 1 0 0 1-1.414 0l-2-2a1 1 0 0 1 0-1.414 1 1 0 0 1 0-1.414z'\n                    />\n                  </svg>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className='flex flex-col gap-2 md:w-1/2'>\n          <div className='mt-4'>\n            <p className='font-[degularsemibold] text-xl'>Select Video</p>\n            <div className='w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-500'>\n              <FileBase64 multiple={false} onDone={handleVideoUpload} />\n            </div>\n          </div>\n          <button\n            onClick={handleUpload}\n            className='w-full bg-blue-500 text-white p-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-500'\n          >\n            Upload Video\n          </button>\n          <button\n            onClick={handleGetDetails}\n            className='w-full bg-green-500 text-white p-2 rounded-md mt-4 hover:bg-blue-700 focus:outline-none focus:ring focus:border-blue-500'\n          >\n            Get Details\n          </button>\n        </div>\n      </div>\n      <div className='w-full border-t mt-4 border-gray-300' />\n\n      {loading && (\n        <div className='mt-4 flex justify-center'>\n          <p className='text-lg font-bold mb-2'>{loadingMessage || 'Loading...'}</p>\n        </div>\n      )}\n\n      {uploadResponse && (\n        <div className='mt-4 '>\n          <h2 className='text-lg font-bold mb-2'>Upload Response:</h2>\n          <div>{/* Add any additional elements or styling here if needed */}</div>\n          <pre className='bg-gray-100 overflow-auto p-4 text-sm rounded-md'>{JSON.stringify(uploadResponse, null, 2)}</pre>\n        </div>\n      )}\n\n      {detailsResponse && detailsResponse.data && (\n        <div className='mt-4 '>\n          <h2 className='text-lg font-bold mb-2'>Full Video Details:</h2>\n          <div>{/* Add any additional elements or styling here if needed */}</div>\n          <pre className='bg-gray-100 overflow-auto p-4 text-sm rounded-md'>{JSON.stringify(detailsResponse, null, 2)}</pre>\n        </div>\n      )}\n\n      <div className='mt-4'>\n        <h2 className='text-lg font-bold mb-2'>Original Uploaded Video:</h2>\n        <video ref={videoRef} controls width='100%' height='auto'>\n          Your browser does not support the video tag.\n        </video>\n      </div>\n\n      <ToastContainer />\n    </div>\n  );\n};\n\nexport default Transactions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}