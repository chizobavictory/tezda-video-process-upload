{"ast":null,"code":"var _jsxFileName = \"/Users/echelon/Documents/GitHub/tezda/tezda-video-process-upload/src/components/Transactions.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport expand from \"../assets/expand_more.svg\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Transactions = () => {\n  _s();\n  const [userId, setUserId] = useState(\"\");\n  const [videoData, setVideoData] = useState(null);\n  const [uploadResponse, setUploadResponse] = useState(null); // Added state for response details\n\n  const handleUserIdChange = event => {\n    setUserId(event.target.value);\n  };\n  const handleVideoUpload = file => {\n    setVideoData(file.base64);\n  };\n  const handleUpload = async () => {\n    if (!userId || !videoData) {\n      toast.error(\"Please enter user ID and select a video\");\n      return;\n    }\n    const endpoint = `https://kl8no40qhb.execute-api.eu-west-2.amazonaws.com/dev/user/uploadUserShortVideo?user_id=${userId}`;\n    try {\n      const response = await axios.post(endpoint, {\n        videoData: videoData.split(\",\")[1]\n      }); // Extract base64 string\n      setUploadResponse(response.data); // Update response details state\n      toast.success(\"Video uploaded successfully!\");\n    } catch (error) {\n      console.error(\"Error uploading video:\", error);\n      toast.error(\"Error uploading video. Please try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col pt-20\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-neutral-900 flex flex-col gap-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-[degularbold] text-2xl\",\n          children: [totalTransactions, \" Upload Video\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-[degularmedium] text-gray-600\",\n          children: [\"Your video is uploaded in one API call taking in the userId and then that user Id is used for a second API call that gets the item details from the db that includes the data gotten from the other background processes run like the adaptive ibtrates and the labels genrated from AWS rekognition\", \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"bg-gray-100 text-neutral-900 p-4 items-center flex gap-2 rounded-full font-[degularsemibold] h-12\",\n          onChange: handleUserIdChange,\n          placeholder: \"Enter User ID\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: expand,\n            alt: \"expand\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block mb-2\",\n            children: \"Select Video:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-500\",\n            children: /*#__PURE__*/_jsxDEV(FileBase64, {\n              multiple: false,\n              onDone: handleVideoUpload\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full border-t mt-4 border-gray-300\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n_s(Transactions, \"4CwkFvmql95e5YLBhQ4tXP+Z4Ts=\");\n_c = Transactions;\nexport default Transactions;\nvar _c;\n$RefreshReg$(_c, \"Transactions\");","map":{"version":3,"names":["React","useState","axios","toast","expand","jsxDEV","_jsxDEV","Transactions","_s","userId","setUserId","videoData","setVideoData","uploadResponse","setUploadResponse","handleUserIdChange","event","target","value","handleVideoUpload","file","base64","handleUpload","error","endpoint","response","post","split","data","success","console","className","children","totalTransactions","fileName","_jsxFileName","lineNumber","columnNumber","onChange","placeholder","src","alt","FileBase64","multiple","onDone","_c","$RefreshReg$"],"sources":["/Users/echelon/Documents/GitHub/tezda/tezda-video-process-upload/src/components/Transactions.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport expand from \"../assets/expand_more.svg\";\nimport download from \"../assets/download.svg\";\n\nconst Transactions = () => {\n  const [userId, setUserId] = useState<string>(\"\");\n  const [videoData, setVideoData] = useState<string | null>(null);\n  const [uploadResponse, setUploadResponse] = useState<any | null>(null); // Added state for response details\n\n  const handleUserIdChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    setUserId(event.target.value);\n  };\n\n  const handleVideoUpload = (file: { base64: string }) => {\n    setVideoData(file.base64);\n  };\n\n  const handleUpload = async () => {\n    if (!userId || !videoData) {\n      toast.error(\"Please enter user ID and select a video\");\n      return;\n    }\n\n    const endpoint = `https://kl8no40qhb.execute-api.eu-west-2.amazonaws.com/dev/user/uploadUserShortVideo?user_id=${userId}`;\n\n    try {\n      const response = await axios.post(endpoint, { videoData: videoData.split(\",\")[1] }); // Extract base64 string\n      setUploadResponse(response.data); // Update response details state\n      toast.success(\"Video uploaded successfully!\");\n    } catch (error) {\n      console.error(\"Error uploading video:\", error);\n      toast.error(\"Error uploading video. Please try again.\");\n    }\n  };\n\n  return (\n    <div className='flex flex-col pt-20'>\n      <div className='flex justify-between gap-4'>\n        <div className='text-neutral-900 flex flex-col gap-1'>\n          <p className='font-[degularbold] text-2xl'>{totalTransactions} Upload Video</p>\n          <p className='font-[degularmedium] text-gray-600'>\n            Your video is uploaded in one API call taking in the userId and then that user Id is used for a second API call that gets the item details\n            from the db that includes the data gotten from the other background processes run like the adaptive ibtrates and the labels genrated from\n            AWS rekognition{\" \"}\n          </p>\n        </div>\n        <div className='flex gap-2'>\n          <input\n            className='bg-gray-100 text-neutral-900 p-4 items-center flex gap-2 rounded-full font-[degularsemibold] h-12'\n            onChange={handleUserIdChange}\n            placeholder='Enter User ID'\n          >\n            <img src={expand} alt='expand' />\n          </input>\n          <div className='mt-4'>\n            <label className='block mb-2'>Select Video:</label>\n            <div className='w-full p-2 border border-gray-300 rounded-md focus:outline-none focus:ring focus:border-blue-500'>\n              <FileBase64 multiple={false} onDone={handleVideoUpload} />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='w-full border-t mt-4 border-gray-300' />\n    </div>\n  );\n};\n\nexport default Transactions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}